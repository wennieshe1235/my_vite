import{_ as f,o as k,c as p,r as T,a as t,n as d,t as N,w as m,v as h,F as B,p as b,b as S,d as u,e as J,f as O,g as L,h as g,N as E}from"./Nav-B7f86MIa.js";const _=c=>(b("data-v-b1e2860b"),c=c(),S(),c),V={class:"item_flex"},A={class:"left_block"},R={class:"btn_flex"},D=["onClick"],F=["onClick"],U={class:"middle_block"},K={class:"star_block"},M=["onClick"],z=_(()=>t("i",{class:"fas fa-star"},null,-1)),j=[z],q=["onClick"],G=_(()=>t("i",{class:"fas fa-star"},null,-1)),H=[G],P=["onClick"],Q=_(()=>t("i",{class:"fas fa-star"},null,-1)),W=[Q],X=["onClick"],Y=_(()=>t("i",{class:"fas fa-star"},null,-1)),Z=[Y],x=["onClick"],tt=_(()=>t("i",{class:"fas fa-star"},null,-1)),st=[tt],at=["onUpdate:modelValue"],et={class:"right_block"},ot={class:"btn_flex"},lt=["onClick"],nt=["onClick"],ct={__name:"TaskItem",props:["tasks"],emits:["taskEdit","taskStar","taskSwap","taskRemove"],setup(c){return(o,a)=>(k(!0),p(B,null,T(c.tasks,(l,n)=>(k(),p("li",{key:l.id},[t("div",V,[t("div",A,[t("div",R,[t("button",{type:"button",class:"btn_up",onClick:e=>o.$emit("taskSwap",e,n,"up")},"往上",8,D),t("button",{type:"button",class:"btn_down",onClick:e=>o.$emit("taskSwap",e,n,"down")},"往下",8,F)])]),t("div",U,[t("div",K,[t("span",{class:d(["star",{"-on":l.star>=1}]),onClick:e=>o.$emit("taskStar",e,n,1)},j,10,M),t("span",{class:d(["star",{"-on":l.star>=2}]),onClick:e=>o.$emit("taskStar",e,n,2)},H,10,q),t("span",{class:d(["star",{"-on":l.star>=3}]),onClick:e=>o.$emit("taskStar",e,n,3)},W,10,P),t("span",{class:d(["star",{"-on":l.star>=4}]),onClick:e=>o.$emit("taskStar",e,n,4)},Z,10,X),t("span",{class:d(["star",{"-on":l.star>=5}]),onClick:e=>o.$emit("taskStar",e,n,5)},st,10,x)]),t("p",{class:d(["para",{"-none":l.editable}])},N(l.name),3),m(t("input",{type:"text",class:d(["task_name_update",{"-none":!l.editable}]),placeholder:"更新待辦事項…","onUpdate:modelValue":e=>l.name=e},null,10,at),[[h,l.name,void 0,{trim:!0}]])]),t("div",et,[t("div",ot,[t("button",{type:"button",class:"btn_update",onClick:e=>o.$emit("taskEdit",e,n)},"更新",8,lt),t("button",{type:"button",class:"btn_delete",onClick:e=>o.$emit("taskRemove",e,n)},"移除",8,nt)])])])]))),128))}},it=f(ct,[["__scopeId","data-v-b1e2860b"]]),rt=c=>(b("data-v-de49a607"),c=c(),S(),c),dt={class:"task_container"},_t=rt(()=>t("h1",{class:"title1"},"待辦事項",-1)),ut={class:"task_list_parent"},kt={__name:"TaskContainer",setup(c){const o=u(""),a=u([]),l=u(null),n=u(null);J(()=>{let i=JSON.parse(localStorage.getItem("tasks"));i&&(a.value=i)});function e(){l.value.classList.toggle("-on")}function v(){o.value!=""&&(a.value.unshift({id:Date.now(),name:o.value,star:0,editable:!1}),o.value="",localStorage.setItem("tasks",JSON.stringify(a.value)))}function C(){if(confirm("確認清空嗎?")){for(let s=0;s<n.value.children.length;s++)console.log(s),n.value.children[s].classList.add("fade_out");setTimeout(()=>{a.value=[],localStorage.clear()},1e3)}}function y(i,s){a.value[s].editable?a.value[s].name==""?alert("請輸入資料"):(a.value[s].editable=!a.value[s].editable,localStorage.setItem("tasks",JSON.stringify(a.value))):a.value[s].editable=!a.value[s].editable}function w(i,s,r){a.value[s].star=r,localStorage.setItem("tasks",JSON.stringify(a.value))}function I(i,s,r){r=="up"&&s!=0&&([a.value[s-1],a.value[s]]=[a.value[s],a.value[s-1]],localStorage.setItem("tasks",JSON.stringify(a.value))),r=="down"&&s!=a.value.length-1&&([a.value[s],a.value[s+1]]=[a.value[s+1],a.value[s]],localStorage.setItem("tasks",JSON.stringify(a.value)))}function $(i,s){console.log(i),confirm("確認移除?")&&(i.target.closest("li").classList.add("fade_out"),setTimeout(()=>{a.value.splice(s,1),localStorage.setItem("tasks",JSON.stringify(a.value))},1e3))}return(i,s)=>(k(),p("article",dt,[t("button",{type:"button",class:"btn_empty",onClick:C},"清空"),_t,t("div",{class:"task_add_block",ref_key:"taskAddBlock",ref:l},[m(t("input",{type:"text",class:"task_name",placeholder:"輸入待辦事項…",onFocus:e,onBlur:e,"onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r),onKeyup:O(v,["enter"])},null,544),[[h,o.value,void 0,{trim:!0}]]),t("button",{type:"button",class:"task_add",onClick:v},"新增")],512),t("div",ut,[t("ul",{class:"task_list",ref_key:"taskList",ref:n},[L(it,{tasks:a.value,onTaskEdit:y,onTaskStar:w,onTaskSwap:I,onTaskRemove:$},null,8,["tasks"])],512)])]))}},pt=f(kt,[["__scopeId","data-v-de49a607"]]);g(E).mount("#header");g(pt).mount("#app");
